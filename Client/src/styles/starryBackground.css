.starry-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at bottom, #01274b 0%, #012d5a 100%);
  overflow: hidden;
  z-index: -1;
  pointer-events: none;
}

/* Étoiles normales */
.starry-container .star {
  position: absolute;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: twinkle 2s infinite ease-in-out;
  box-shadow: 0 0 2px rgba(255, 255, 255, 0.5);
}

@keyframes twinkle {
  0%,
  100% {
    opacity: 0.8;
    transform: scale(1);
  }
  50% {
    opacity: 0.3;
    transform: scale(0.8);
  }
}

/* Variations de scintillement */
.starry-container .star:nth-child(3n) {
  animation: twinkle-fast 1.5s infinite ease-in-out;
}

.starry-container .star:nth-child(5n) {
  animation: twinkle-slow 3s infinite ease-in-out;
  box-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
}

.starry-container .star:nth-child(7n) {
  background: #e8f4ff;
  box-shadow: 0 0 3px rgba(232, 244, 255, 0.6);
}

@keyframes twinkle-fast {
  0%,
  100% {
    opacity: 1;
    transform: scale(1.2);
  }
  50% {
    opacity: 0.2;
    transform: scale(0.6);
  }
}

@keyframes twinkle-slow {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.9;
  }
}

/* Étoiles filantes */
.starry-container .shooting-star {
  position: absolute;
  width: 4px;
  height: 4px;
  background: white;
  border-radius: 50%;
  box-shadow:
    0 0 10px 2px rgba(255, 255, 255, 0.9),
    0 0 20px 4px rgba(173, 216, 230, 0.5);
  animation: shoot-dynamic 3s ease-out forwards;
  opacity: 0;
  --distance: 500px;
  --angle: 45deg;
}

.starry-container .shooting-star::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100px;
  height: 2px;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 1) 0%,
    rgba(255, 255, 255, 0.8) 30%,
    rgba(173, 216, 230, 0.4) 70%,
    transparent 100%
  );
  transform: translate(-100%, -50%);
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.5);
}

@keyframes shoot-dynamic {
  0% {
    transform: translate(0, 0) rotate(calc(var(--angle) * -1));
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  95% {
    opacity: 0.8;
  }
  100% {
    transform: translate(
        calc(cos(var(--angle)) * var(--distance) * -1),
        calc(sin(var(--angle)) * var(--distance))
      )
      rotate(calc(var(--angle) * -1));
    opacity: 0;
  }
}

.starry-container .star:nth-child(11n) {
  animation: pulse-glow 4s infinite ease-in-out;
}

@keyframes pulse-glow {
  0%,
  100% {
    box-shadow: 0 0 2px rgba(255, 255, 255, 0.5);
    opacity: 0.8;
  }
  50% {
    box-shadow:
      0 0 8px rgba(255, 255, 255, 1),
      0 0 12px rgba(173, 216, 230, 0.8);
    opacity: 1;
  }
}

.starry-container::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background:
    radial-gradient(
      ellipse at 20% 30%,
      rgba(0, 112, 187, 0.15) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 80% 70%,
      rgba(93, 138, 168, 0.12) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 50% 50%,
      rgba(157, 185, 212, 0.08) 0%,
      transparent 60%
    );
  animation: nebula-drift 30s infinite ease-in-out;
}

@keyframes nebula-drift {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.5;
  }
  33% {
    transform: translate(20px, -15px) scale(1.05);
    opacity: 0.7;
  }
  66% {
    transform: translate(-15px, 20px) scale(0.95);
    opacity: 0.6;
  }
}

/* Variations de couleurs pour les étoiles filantes */
.starry-container .shooting-star:nth-child(even) {
  background: #e8f4ff;
  box-shadow:
    0 0 10px 2px rgba(232, 244, 255, 0.9),
    0 0 20px 4px rgba(135, 206, 250, 0.5);
}

.starry-container .shooting-star:nth-child(even)::before {
  background: linear-gradient(
    90deg,
    rgba(232, 244, 255, 1) 0%,
    rgba(173, 216, 230, 0.8) 30%,
    rgba(135, 206, 250, 0.4) 70%,
    transparent 100%
  );
}

/* Responsive */
@media (max-width: 768px) {
  .starry-container .shooting-star::before {
    width: 60px;
  }

  .starry-container .shooting-star {
    --distance: 300px;
  }
}

@media (max-width: 480px) {
  .starry-container .shooting-star::before {
    width: 40px;
  }

  .starry-container::before {
    display: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .starry-container .star,
  .starry-container .shooting-star,
  .starry-container::before {
    animation: none !important;
  }

  .starry-container .star {
    opacity: 0.6;
  }

  .starry-container .shooting-star {
    display: none;
  }
}
